# Setuptools-80.9.0 — LFS 12.4, Capítulo 8.55

PKG_NAME="setuptools"
PKG_VERSION="80.9.0"
PKG_RELEASE=1

PKG_DESCRIPTION="Setuptools is a tool used to build, install, and manage Python packages."

PKG_HOMEPAGE="https://pypi.org/project/setuptools/"
PKG_SOURCE_URLS=(
    "https://pypi.org/packages/source/s/setuptools/setuptools-${PKG_VERSION}.tar.gz"
)

PKG_MD5S=(
    "82e1d67883b713f9493659b50d13b436"
)

PKG_DEPENDS=("python" "wheel" "packaging")
PKG_GROUPS=()

PKG_UPSTREAM_URL="https://pypi.org/simple/setuptools/"
PKG_UPSTREAM_REGEX='setuptools-([0-9.]+)\.tar\.gz'


PKG_BUILD() {
    # LFS: pip3 wheel -w dist --no-cache-dir --no-build-isolation --no-deps $PWD
    pip3 wheel -w dist --no-cache-dir --no-build-isolation --no-deps "$PWD"
}

PKG_INSTALL() {
    # LFS: pip3 install --no-index --find-links dist setuptools
    # Adaptado para DESTDIR:
    pip3 install \
        --no-index \
        --no-user \
        --find-links dist \
        --root "${DESTDIR}" \
        --prefix /usr \
        setuptools
}
