#!/usr/bin/env bash
# clang-tools-extra: parte do monorepo, habilitada como projeto
set -Eeuo pipefail
: "${ADM_WORK_DIR:?}" "${ADM_BUILD_DIR:?}"

mkdir -p "$ADM_BUILD_DIR"
cd "$ADM_BUILD_DIR"

cmake -S "$ADM_WORK_DIR/llvm" -B "$ADM_BUILD_DIR" \
  -G Ninja \
  -DCMAKE_INSTALL_PREFIX=/usr \
  -DCMAKE_BUILD_TYPE=Release \
  -DLLVM_ENABLE_PROJECTS="clang;clang-tools-extra" \
  -DLLVM_INCLUDE_TESTS=OFF \
  -DLLVM_INCLUDE_DOCS=OFF
