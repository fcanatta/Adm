LISTA M√çNIMA EXATA de pacotes que voc√™ precisa ter no ADM_ROOTFS antes de usar o adm-chroot.sh enter para garantir que o chroot seja 100% funcional, sem depender do host.

Essa √© a espinha dorsal m√≠nima de qualquer sistema Linux funcional, seja glibc ou musl ‚Äî e serve igualmente para o seu sistema constru√≠do com o adm.
---

LISTA M√çNIMA ABSOLUTA PARA UM CHROOT FUNCIONAL

(Use esta lista ANTES do chroot)

Esses pacotes precisam estar instalados via adm no ADM_ROOTFS antes de voc√™ entrar no chroot.

1. Toolchain essencial (do pr√≥prio sistema-alvo)

Sem isso, nenhum pacote dentro do chroot vai compilar.

‚úî binutils-pass1 ou binutils-final
‚úî gcc-pass1 + libstdc++ (ou gcc-final, se j√° tiver)
‚úî Linux API headers
‚úî glibc ou musl (dependendo do perfil usado)

> Sem libc do alvo ‚Üí o chroot quebra imediatamente.
---

2. Shell + base de comandos

M√≠nimo necess√°rio para rodar scripts dentro do chroot:

‚úî bash ‚Äî /bin/bash
‚úî coreutils ‚Äî ls, cp, mv, mkdir, rm, cat, etc.
‚úî sed
‚úî grep
‚úî gawk (awk)
‚úî findutils
‚úî diffutils
‚úî tar
‚úî xz
‚úî gzip
‚úî bzip2
‚úî patch

> Sem esses, scripts de build simplesmente n√£o funcionam.
---

üîß 3. Ferramentas de compila√ß√£o

Necess√°rio para compilar qualquer pacote dentro do chroot:

‚úî make
‚úî pkg-config
‚úî file (√∫til para muitos scripts de build)

(Opcionais mas recomendados: m4, autoconf, automake, libtool.)
---

4. Bibliotecas fundamentais

Essas s√£o praticamente obrigat√≥rias para v√°rios pacotes:

‚úî zlib
‚úî xz-libs
‚úî ncurses (para programas tipo less, menuconfig, etc.)

(Opcionais, por√©m comuns: readline, openssl/libressl, sqlite.)
---

üîå 5. Sistema b√°sico (opcional antes do chroot, obrigat√≥rio depois)

Se quiser j√° ter um sistema minimamente ‚Äúus√°vel‚Äù ao entrar:

‚úî shadow (para comandos: useradd, passwd, etc.)
‚úî util-linux (mount, dmesg, kill, flock, etc.)
‚úî procps-ng (ps, top, free, etc.)

> Esses 3 n√£o precisam existir antes do chroot,
mas √© fortemente recomendado j√° t√™-los.

ANTES do chroot, instale via adm:

binutils-pass1 (ou binutils-final)
gcc-pass1
linux-api-headers
glibc OU musl
libstdc++-pass1

bash
coreutils
sed
grep
gawk
findutils
diffutils
tar
xz
gzip
bzip2
patch
make
pkg-config
file
m4
autoconf
automake
libtool

zlib
ncurses

(opcional: shadow, util-linux, procps-ng)
---

COM ISSO, o adm-chroot.sh enter se torna:

100% funcional

totalmente livre do host

capaz de compilar qualquer pacote

capaz de rodar o adm por completo

capaz de construir o seu sistema inteiro ‚Äúde dentro‚Äù, como um sistema real
